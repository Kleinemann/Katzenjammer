{
  "version": 3,
  "sources": [
    "C:/Users/klein/AppData/Roaming/npm/node_modules/@qooxdoo/framework/source/class/qx/io/request/Xhr.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "io",
    "request",
    "AbstractRequest",
    "construct",
    "url",
    "method",
    "undefined",
    "setMethod",
    "_parser",
    "_createResponseParser",
    "events",
    "readyStateChange",
    "success",
    "load",
    "statusError",
    "properties",
    "init",
    "async",
    "check",
    "accept",
    "nullable",
    "cache",
    "value",
    "lang",
    "Type",
    "isBoolean",
    "isString",
    "members",
    "_createTransport",
    "bom",
    "Xhr",
    "_getConfiguredUrl",
    "getUrl",
    "serializedData",
    "getMethod",
    "getRequestData",
    "_serializeData",
    "util",
    "Uri",
    "appendParamsToUrl",
    "getCache",
    "nocache",
    "Date",
    "valueOf",
    "_getConfiguredRequestHeaders",
    "headers",
    "isAllowsBody",
    "Request",
    "methodAllowsRequestBody",
    "isFormData",
    "getClass",
    "isCrossDomain",
    "getAccept",
    "core",
    "Environment",
    "get",
    "debug",
    "_getMethod",
    "_isAsync",
    "isAsync",
    "ResponseParser",
    "_getParsedResponse",
    "response",
    "_transport",
    "responseType",
    "responseText",
    "contentType",
    "getResponseContentType",
    "parsedResponse",
    "parse",
    "_parserFailed",
    "e",
    "fireDataEvent",
    "error",
    "setParser",
    "parser"
  ],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAAA,EAAAA,EAAE,CAACC,SAAH,CAAaC,oBAAb,CAAkCC,aAAlC;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAH,EAAAA,EAAE,CAACI,KAAH,CAASC,MAAT,CAAgB,mBAAhB,EAAqC;AACnCC,IAAAA,MAAM,EAAEN,EAAE,CAACO,EAAH,CAAMC,OAAN,CAAcC,eADa;;AAGnC;AACF;AACA;AACA;AACEC,IAAAA,SAPmC,qBAOzBC,GAPyB,EAOpBC,MAPoB,EAOZ;AACrB,UAAIA,MAAM,KAAKC,SAAf,EAA0B;AACxB,aAAKC,SAAL,CAAeF,MAAf;AACD;;AAED,2DAAMD,GAAN;AACA,WAAKI,OAAL,GAAe,KAAKC,qBAAL,EAAf;AACD,KAdkC;AAgBnC;AACA;AAEAC,IAAAA,MAAM,EAAE;AACN;AACJ;AACA;AACA;AACA;AACIC,MAAAA,gBAAgB,EAAE,qBANZ;;AAQN;AACJ;AACA;AACA;AACA;AACA;AACA;AACIC,MAAAA,OAAO,EAAE,qBAfH;;AAiBN;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACIC,MAAAA,IAAI,EAAE,qBAzBA;;AA2BN;AACJ;AACA;AACA;AACA;AACA;AACIC,MAAAA,WAAW,EAAE;AAjCP,KAnB2B;AAuDnCC,IAAAA,UAAU,EAAE;AACV;AACJ;AACA;AACIV,MAAAA,MAAM,EAAE;AACNW,QAAAA,IAAI,EAAE;AADA,OAJE;;AAQV;AACJ;AACA;AACIC,MAAAA,KAAK,EAAE;AACLC,QAAAA,KAAK,EAAE,SADF;AAELF,QAAAA,IAAI,EAAE;AAFD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",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Tristan Koch (tristankoch)\n\n************************************************************************ */\n\n/**\n * Send HTTP requests and handle responses using the HTTP client API.\n *\n * Configuration of the request is done with properties. Events are fired for\n * various states in the life cycle of a request, such as \"success\". Request\n * data is transparently processed.\n *\n * Here is how to request a JSON file and listen to the \"success\" event:\n *\n * <pre class=\"javascript\">\n * var req = new qx.io.request.Xhr(\"/some/path/file.json\");\n *\n * req.addListener(\"success\", function(e) {\n *   var req = e.getTarget();\n *\n *   // Response parsed according to the server's\n *   // response content type, e.g. JSON\n *   req.getResponse();\n * }, this);\n *\n * // Send request\n * req.send();\n * </pre>\n *\n * Some noteable features:\n *\n * * Abstraction of low-level request\n * * Convenient setup using properties\n * * Fine-grained events\n * * Symbolic phases\n * * Transparent processing of request data\n * * Stream-lined authentication\n * * Automagic parsing of response based on content type\n *\n * Cross-origin requests are supported, but require browser support\n * (see <a href=\"http://caniuse.com/#search=CORS\">caniuse.com</a>) and backend configuration\n * (see <a href=\"https://developer.mozilla.org/en-US/docs/docs/HTTP/Access_control_CORS>MDN</a>).\n * Note that IE's <code>XDomainRequest</code> is not currently supported.\n * For a cross-browser alternative, consider {@link qx.io.request.Jsonp}.\n *\n * In order to debug requests, set the environment flag\n * <code>qx.debug.io</code>.\n *\n * Internally uses {@link qx.bom.request.Xhr}.\n */\nqx.Class.define(\"qx.io.request.Xhr\", {\n  extend: qx.io.request.AbstractRequest,\n\n  /**\n   * @param url {String?} The URL of the resource to request.\n   * @param method {String?} The HTTP method.\n   */\n  construct(url, method) {\n    if (method !== undefined) {\n      this.setMethod(method);\n    }\n\n    super(url);\n    this._parser = this._createResponseParser();\n  },\n\n  // Only document events with transport specific details.\n  // For a complete list of events, refer to AbstractRequest.\n\n  events: {\n    /**\n     * Fired on every change of the transport’s readyState.\n     *\n     * See {@link qx.bom.request.Xhr} for available readyStates.\n     */\n    readyStateChange: \"qx.event.type.Event\",\n\n    /**\n     * Fired when request completes without error and transport status\n     * indicates success.\n     *\n     * Refer to {@link qx.util.Request#isSuccessful} for a list of HTTP\n     * status considered successful.\n     */\n    success: \"qx.event.type.Event\",\n\n    /**\n     * Fired when request completes without error.\n     *\n     * Every request not canceled or aborted completes. This means that\n     * even requests receiving a response with erroneous HTTP status\n     * fire a \"load\" event. If you are only interested in successful\n     * responses, listen to the {@link #success} event instead.\n     */\n    load: \"qx.event.type.Event\",\n\n    /**\n     * Fired when request completes without error but erroneous HTTP status.\n     *\n     * Refer to {@link qx.util.Request#isSuccessful} for a list of HTTP\n     * status considered successful.\n     */\n    statusError: \"qx.event.type.Event\"\n  },\n\n  properties: {\n    /**\n     * The HTTP method.\n     */\n    method: {\n      init: \"GET\"\n    },\n\n    /**\n     * Whether the request should be executed asynchronously.\n     */\n    async: {\n      check: \"Boolean\",\n      init: true\n    },\n\n    /**\n     * The content type to accept. By default, every content type\n     * is accepted.\n     *\n     * Note: Some backends send distinct representations of the same\n     * resource depending on the content type accepted. For instance,\n     * a backend may respond with either a JSON (the accept header\n     * indicates so) or a HTML representation (the default, no accept\n     * header given).\n     */\n    accept: {\n      check: \"String\",\n      nullable: true\n    },\n\n    /**\n     * Whether to allow request to be answered from cache.\n     *\n     * Allowed values:\n     *\n     * * <code>true</code>: Allow caching (Default)\n     * * <code>false</code>: Prohibit caching. Appends nocache parameter to URL.\n     * * <code>String</code>: Any Cache-Control request directive\n     *\n     * If a string is given, it is inserted in the request's Cache-Control\n     * header. A request’s Cache-Control header may contain a number of directives\n     * controlling the behavior of any caches in between client and origin\n     * server.\n     *\n     * * <code>\"no-cache\"</code>: Force caches to submit request in order to\n     *   validate the freshness of the representation. Note that the requested\n     *   resource may still be served from cache if the representation is\n     *   considered fresh. Use this directive to ensure freshness but save\n     *   bandwidth when possible.\n     * * <code>\"no-store\"</code>: Do not keep a copy of the representation under\n     *   any conditions.\n     *\n     * See <a href=\"http://www.mnot.net/cache_docs/#CACHE-CONTROL\">\n     * Caching tutorial</a> for an excellent introduction to Caching in general.\n     * Refer to the corresponding section in the\n     * <a href=\"http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.9\">\n     * HTTP 1.1 specification</a> for more details and advanced directives.\n     *\n     * It is recommended to choose an appropriate Cache-Control directive rather\n     * than prohibit caching using the nocache parameter.\n     */\n    cache: {\n      check(value) {\n        return qx.lang.Type.isBoolean(value) || qx.lang.Type.isString(value);\n      },\n      init: true\n    }\n  },\n\n  members: {\n    /**\n     * @type {Function} Parser.\n     */\n    _parser: null,\n\n    /*\n    ---------------------------------------------------------------------------\n      CONFIGURE TRANSPORT\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Create XHR transport.\n     *\n     * @return {qx.bom.request.Xhr} Transport.\n     */\n    _createTransport() {\n      return new qx.bom.request.Xhr();\n    },\n\n    /**\n     * Get configured URL.\n     *\n     * Append request data to URL if HTTP method is GET. Append random\n     * string to URL if required by value of {@link #cache}.\n     *\n     * @return {String} The configured URL.\n     */\n    _getConfiguredUrl() {\n      var url = this.getUrl(),\n        serializedData;\n\n      if (this.getMethod() === \"GET\" && this.getRequestData()) {\n        serializedData = this._serializeData(this.getRequestData());\n        url = qx.util.Uri.appendParamsToUrl(url, serializedData);\n      }\n\n      if (this.getCache() === false) {\n        // Make sure URL cannot be served from cache and new request is made\n        url = qx.util.Uri.appendParamsToUrl(url, {\n          nocache: new Date().valueOf()\n        });\n      }\n\n      return url;\n    },\n\n    // overridden\n    _getConfiguredRequestHeaders() {\n      var headers = {},\n        isAllowsBody = qx.util.Request.methodAllowsRequestBody(\n          this.getMethod()\n        ),\n        isFormData = qx.Bootstrap.getClass(this.getRequestData()) == \"FormData\";\n\n      // Follow convention to include X-Requested-With header when same origin\n      if (!qx.util.Request.isCrossDomain(this.getUrl())) {\n        headers[\"X-Requested-With\"] = \"XMLHttpRequest\";\n      }\n\n      // Include Cache-Control header if configured\n      if (qx.lang.Type.isString(this.getCache())) {\n        headers[\"Cache-Control\"] = this.getCache();\n      }\n\n      // By default, set content-type urlencoded for requests with body\n      if (this.getRequestData() && isAllowsBody && !isFormData) {\n        headers[\"Content-Type\"] = \"application/x-www-form-urlencoded\";\n      }\n\n      // What representations to accept\n      if (this.getAccept()) {\n        if (qx.core.Environment.get(\"qx.debug.io\")) {\n          this.debug(\"Accepting: '\" + this.getAccept() + \"'\");\n        }\n        headers[\"Accept\"] = this.getAccept();\n      }\n\n      return headers;\n    },\n\n    // overridden\n    _getMethod() {\n      return this.getMethod();\n    },\n\n    // overridden\n    _isAsync() {\n      return this.isAsync();\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      PARSING\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Create response parser.\n     *\n     * @return {qx.util.ResponseParser} parser.\n     */\n    _createResponseParser() {\n      return new qx.util.ResponseParser();\n    },\n\n    /**\n     * Returns response parsed with parser determined by content type.\n     *\n     * @return {String|Object} The parsed response of the request.\n     */\n    _getParsedResponse() {\n      var response =\n          this._transport.responseType === \"blob\"\n            ? this._transport.response\n            : this._transport.responseText,\n        contentType = this.getResponseContentType() || \"\",\n        parsedResponse = \"\";\n\n      try {\n        parsedResponse = this._parser.parse(response, contentType);\n        this._parserFailed = false;\n      } catch (e) {\n        this._parserFailed = true;\n        this.fireDataEvent(\"parseError\", {\n          error: e,\n          response: response\n        });\n      }\n\n      return parsedResponse;\n    },\n\n    /**\n     * Set parser used to parse response once request has\n     * completed successfully.\n     *\n     * @see qx.util.ResponseParser#setParser\n     *\n     * @param parser {String|Function}\n     * @return {Function} The parser function\n     */\n    setParser(parser) {\n      return this._parser.setParser(parser);\n    }\n  }\n});\n"
  ]
}
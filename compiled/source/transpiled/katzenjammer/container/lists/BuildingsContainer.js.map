{
  "version": 3,
  "sources": [
    "C:/Workspace/katzenjammer/source/class/katzenjammer/container/lists/BuildingsContainer.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "container",
    "Composite",
    "statics",
    "properties",
    "NewBuilding",
    "init",
    "BuildingSelect",
    "construct",
    "layout",
    "VBox",
    "initNewBuilding",
    "initBuildingList",
    "members",
    "cont",
    "btnNew",
    "form",
    "Button",
    "add",
    "initBuildingSelect",
    "katzenjammer",
    "widgets",
    "PosSearch",
    "setNewBuilding",
    "box",
    "SelectBox",
    "data",
    "Action",
    "Data",
    "req",
    "ServiceRequest",
    "addListener",
    "e",
    "response",
    "getTarget",
    "getResponse",
    "success",
    "i",
    "building",
    "ListItem",
    "name",
    "money",
    "send",
    "basic",
    "Label",
    "updateData",
    "getTableModel",
    "setData",
    "lists",
    "BuildingsContainer"
  ],
  "mappings": "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",
  "sourcesContent": [
    "﻿/* global katzenjammer */\r\n/**\r\n*\r\n**/\r\nqx.Class.define(\"katzenjammer.container.lists.BuildingsContainer\", {\r\n    extend: qx.ui.container.Composite,\r\n\r\n    statics:\r\n    {\r\n    },\r\n\r\n    properties:\r\n    {\r\n        NewBuilding: { init: null },\r\n        BuildingSelect: { init: null }\r\n    },\r\n\r\n    construct: function ()\r\n    {\r\n        var layout = new qx.ui.layout.VBox(3);\r\n        this.base(arguments, layout);\r\n\r\n        this.initNewBuilding();\r\n        this.initBuildingList();\r\n    },\r\n\r\n    members:\r\n    {\r\n        initNewBuilding: function ()\r\n        {\r\n            var cont = new qx.ui.container.Composite(new qx.ui.layout.VBox(3));\r\n            var btnNew = new qx.ui.form.Button(\"Neu\");\r\n            cont.add(btnNew);\r\n\r\n            cont.add(this.initBuildingSelect());\r\n            cont.add(new katzenjammer.widgets.PosSearch());\r\n\r\n            this.setNewBuilding(cont);\r\n\r\n            //this.add(cont);\r\n        },\r\n\r\n        initBuildingSelect: function ()\r\n        {\r\n            var box = new qx.ui.form.SelectBox();\r\n\r\n            var data = {\r\n                Action: \"select\",\r\n                Data: \"Buildings\"\r\n            };\r\n\r\n            var req = new katzenjammer.data.ServiceRequest(data);\r\n            req.addListener(\"success\", function (e)\r\n            {\r\n                var response = e.getTarget().getResponse();\r\n                //console.log(response);\r\n\r\n                if (response.success)\r\n                {\r\n                    var data = response.data;\r\n                    for (i in data)\r\n                    {\r\n                        var building = data[i];\r\n                        box.add(new qx.ui.form.ListItem(building.name + \" (\" + building.money + \")\"));\r\n\t\t\t\t\t}\r\n                }\r\n            }, this);\r\n\r\n            req.send();\r\n\r\n            return box;\r\n\t\t},\r\n\r\n\r\n        initBuildingList: function ()\r\n        {\r\n            var cont = new qx.ui.container.Composite(new qx.ui.layout.VBox(3));\r\n            cont.add(new qx.ui.basic.Label(\"Gebäude\"));\r\n            this.add(cont);\r\n\t\t},\r\n\r\n\r\n        updateData: function ()\r\n        {\r\n\r\n            var data = {\r\n                Action: \"select\",\r\n                Data: \"Buildings\"\r\n            };\r\n\r\n            var req = new katzenjammer.data.ServiceRequest(data);\r\n            req.addListener(\"success\", function (e)\r\n            {\r\n                var response = e.getTarget().getResponse();\r\n                //console.log(response);\r\n\r\n                if (response.success)\r\n                {\r\n                    var data = e.data;\r\n                    this.getTableModel().setData(data);\r\n                }\r\n            }, this);\r\n\r\n            req.send();\r\n        }\r\n    }\r\n});\r\n"
  ]
}
{
  "version": 3,
  "sources": [
    "C:/Workspace/katzenjammer/source/class/katzenjammer/container/MainContainer.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "container",
    "Composite",
    "statics",
    "Instance",
    "ContainerSettings",
    "Layouts",
    "row",
    "column",
    "colSpan",
    "properties",
    "User",
    "init",
    "katzenjammer",
    "data",
    "getInstance",
    "CurrentLayout",
    "Header",
    "nullable",
    "Map",
    "Login",
    "Register",
    "Update",
    "News",
    "TopPlayer",
    "Quests",
    "Buildings",
    "construct",
    "layout",
    "Grid",
    "setColumnFlex",
    "setRowFlex",
    "MainContainer",
    "setBackgroundColor",
    "loadingLayout",
    "members",
    "equalPosition",
    "a",
    "b",
    "undefined",
    "i",
    "layoutName",
    "oldPositions",
    "getCurrentLayout",
    "setCurrentLayout",
    "positions",
    "remove",
    "skip",
    "push",
    "oldWindow",
    "getLayout",
    "getCellWidget",
    "get",
    "set",
    "indexOf",
    "loadWindow",
    "initContainerByName",
    "name",
    "MapContainer",
    "LoginContainer",
    "RegisterContainer",
    "QuestContainer",
    "lists",
    "TopPlayerContainer",
    "NewsContainer",
    "UpdatesContainer",
    "BuildingsContainer",
    "initSearch",
    "cont",
    "VBox",
    "txtSearch",
    "form",
    "TextField",
    "add",
    "addListener",
    "e",
    "getKeyCode",
    "req",
    "ServiceRequest",
    "SearchAdressRequest",
    "getValue",
    "response",
    "getTarget",
    "getResponse",
    "length",
    "console",
    "log",
    "pos",
    "lat",
    "lon",
    "getMap",
    "movePosition",
    "send",
    "window",
    "widgets",
    "WindowBase",
    "switchWindow",
    "oldName",
    "newName",
    "position",
    "reset",
    "windowName",
    "contSettings",
    "header",
    "subheader",
    "isWindow",
    "subbody",
    "loadingUser",
    "args",
    "getUser",
    "getHeader",
    "refresh",
    "moveRandomPos",
    "home",
    "JSON",
    "parse",
    "getHome",
    "map",
    "zoom"
  ],
  "mappings": "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",
  "sourcesContent": [
    "﻿/* global katzenjammer */\r\n/**\r\n*\r\n * @asset(katzenjammer/*)\r\n * (katzenjammer/leaflet/*)\r\n * (katzenjammer/leaflet/images)\r\n * (katzenjammer/leaflet/routing/leaflet-routing-machine.js)\r\n*\r\n**/\r\nqx.Class.define(\"katzenjammer.container.MainContainer\", {\r\n    extend: qx.ui.container.Composite,\r\n\r\n    statics:\r\n    {\r\n        Instance: null,\r\n\r\n        ContainerSettings: {\r\n            \"Header\": { \"name\": null, \"isWindow\": false },\r\n            \"Map\": { \"name\": null, \"isWindow\": true },\r\n            \"Login\": { \"name\": \"Login\", \"isWindow\": true },\r\n            \"Register\": { \"name\": \"Registrieren\", \"isWindow\": true },\r\n            \"Update\": { \"name\": \"Updates\", \"isWindow\": true },\r\n            \"News\": { \"name\": \"News\", \"isWindow\": true },\r\n            \"TopPlayer\": { \"name\": \"Top-Spieler\", \"isWindow\": true },\r\n            \"Quests\": { \"name\": \"Quests\", \"isWindow\": true },\r\n            \"Buildings\": { \"name\": \"Gebäude\", \"isWindow\": true, \"subbody\": \"NewBuilding\", \"subheader\": \"BuildingHeader\" }\r\n        },\r\n\r\n        Layouts: {\r\n            \"start\": {\r\n                \"Header\": { row: 0, column: 0, colSpan: 3 },\r\n                \"Map\": { row: 1, column: 0, colSpan: 2 },\r\n                \"Login\": { row: 1, column: 2 },\r\n                \"Update\": { row: 2, column: 0 },\r\n                \"News\": { row: 2, column: 1 },\r\n                \"TopPlayer\": { row: 2, column: 2 }\r\n            },\r\n\r\n            \"default\": {\r\n                \"Header\": { row: 0, column: 0, colSpan: 3 },\r\n                \"Map\": { row: 1, column: 0, colSpan: 2 },\r\n                \"Quests\": { row: 1, column: 2 },\r\n                \"Buildings\": { row: 2, column: 0 },\r\n                \"News\": { row: 2, column: 1 },\r\n                \"TopPlayer\": { row: 2, column: 2 }\r\n            }\r\n        }\r\n    },\r\n\r\n    properties:\r\n    {\r\n        User: { init: katzenjammer.data.User.getInstance() },\r\n\r\n        CurrentLayout: { init: null },\r\n\r\n        Header: { init: null, nullable: true },\r\n        Map: { init: null, nullable: true },\r\n        Login: { init: null, nullable: true },\r\n        Register: { init: null, nullable: true },\r\n        Update: { init: null, nullable: true },\r\n        News: { init: null, nullable: true },\r\n        TopPlayer: { init: null, nullable: true },\r\n        Quests: { init: null, nullable: true },\r\n        Buildings: { init: null, nullable: true }\r\n    },\r\n\r\n    construct: function ()\r\n    {\r\n        var layout = new qx.ui.layout.Grid(0, 0);\r\n        layout.setColumnFlex(0, 1);\r\n        layout.setColumnFlex(1, 1);\r\n        layout.setColumnFlex(2, 1);\r\n\r\n        layout.setRowFlex(0, 0);\r\n        layout.setRowFlex(1, 2);\r\n        layout.setRowFlex(2, 1);\r\n\r\n\r\n        this.base(arguments, layout);\r\n\r\n        katzenjammer.container.MainContainer.Instance = this;\r\n\r\n        this.setBackgroundColor(\"#CCCCCC\");\r\n\r\n        this.loadingLayout(\"start\");\r\n    },\r\n\r\n    members:\r\n    {\r\n        equalPosition: function (a, b)\r\n        {\r\n            if ((a === undefined || b === undefined) && a !== b)\r\n                return false;\r\n\r\n            for (var i in a)\r\n            {\r\n                if (b[i] === undefined || a[i] !== b[i])\r\n                    return false;\r\n\t\t\t}\r\n\r\n            return true;\r\n\t\t},\r\n\r\n\r\n        loadingLayout: function (layoutName)\r\n        {\r\n            var oldPositions = katzenjammer.container.MainContainer.Layouts[this.getCurrentLayout()];\r\n            this.setCurrentLayout(layoutName);\r\n            var positions = katzenjammer.container.MainContainer.Layouts[layoutName];\r\n\r\n            var remove = [];\r\n            var skip = [];\r\n            for (var i in oldPositions)\r\n            {\r\n                if (positions[i] !== undefined && this.equalPosition(oldPositions[i], positions[i]))\r\n                    skip.push(i);\r\n                else\r\n                    remove.push(i);\r\n\t\t\t}\r\n\r\n            for (var i in remove)\r\n            {\r\n                var oldWindow = this.getLayout().getCellWidget(oldPositions[remove[i]].row, oldPositions[remove[i]].column);\r\n                this.remove(oldWindow);\r\n\t\t\t}\r\n\r\n            for (var i in positions)\r\n            {\r\n                if (this.get(i) !== null)\r\n                    this.set(i, null);\r\n\r\n                if (skip.indexOf(i) === -1)\r\n                    this.loadWindow(i, positions[i]);\r\n\t\t\t}\r\n        },\r\n\r\n\r\n        initContainerByName: function (name)\r\n        {\r\n            switch (name)\r\n            {\r\n                case \"Header\": return new katzenjammer.container.Header(); break;\r\n                case \"Map\": return new katzenjammer.container.MapContainer(); break;\r\n                case \"Login\": return new katzenjammer.container.LoginContainer(); break;\r\n                case \"Register\": return new katzenjammer.container.RegisterContainer(); break;\r\n                case \"Quests\": return new katzenjammer.container.QuestContainer(); break;\r\n                case \"TopPlayer\": return new katzenjammer.container.lists.TopPlayerContainer(); break;\r\n                case \"News\": return new katzenjammer.container.lists.NewsContainer(); break;\r\n                case \"Update\": return new katzenjammer.container.lists.UpdatesContainer(); break;\r\n                case \"Buildings\": return new katzenjammer.container.lists.BuildingsContainer(); break;\r\n                default: return undefined;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\r\n        initSearch: function ()\r\n        {\r\n            var cont = new qx.ui.container.Composite(new qx.ui.layout.VBox(3));\r\n            var txtSearch = new qx.ui.form.TextField();\r\n            cont.add(txtSearch);\r\n            txtSearch.addListener(\"keyup\", function (e)\r\n            {\r\n                if (e.getKeyCode() !== 13)\r\n                    return;\r\n\r\n                var req = katzenjammer.data.ServiceRequest.SearchAdressRequest(txtSearch.getValue());\r\n                req.addListener(\"success\", function (e)\r\n                {\r\n                    var response = e.getTarget().getResponse();\r\n                    if (response.length === 1)\r\n                    {\r\n                        console.log(response[0]);\r\n                        var pos = [response[0].lat, response[0].lon];\r\n                        this.getMap().movePosition(pos);\r\n                    }\r\n                    else\r\n                        console.log(\"Not Found\");\r\n                }, this);\r\n\r\n                req.send();\r\n            }, this);\r\n\r\n            var window = new katzenjammer.widgets.WindowBase(\"Search\", cont);\r\n            return window;\r\n\t\t},\r\n\r\n\r\n        switchWindow: function (oldName, newName)\r\n        {\r\n            var positions = katzenjammer.container.MainContainer.Layouts[this.getCurrentLayout()];\r\n\r\n            var position = positions[oldName] !== undefined ? positions[oldName] : positions[newName];\r\n\r\n            var oldWindow = this.getLayout().getCellWidget(position.row, position.column);\r\n            if (oldWindow !== null)\r\n            {\r\n                this.remove(oldWindow);\r\n                this.reset(oldName);\r\n            }\r\n\r\n            this.loadWindow(newName, position);\r\n\t\t},\r\n\r\n\r\n        loadWindow: function (windowName, position)\r\n        {\r\n            var contSettings = katzenjammer.container.MainContainer.ContainerSettings[windowName];\r\n            var window = this.get(windowName) !== null ? this.get(windowName) : this.initContainerByName(windowName);\r\n\r\n            if (contSettings !== undefined && window !== undefined)\r\n                this.set(windowName, window);\r\n\r\n            var header = contSettings.subheader !== undefined ? window.get(contSettings.subheader) : contSettings.name;\r\n\r\n            if (contSettings.isWindow)\r\n            {\r\n                if (contSettings.subbody !== undefined)\r\n                    this.add(new katzenjammer.widgets.WindowBase(header, window, window.get(contSettings.subbody)), position);\r\n                else\r\n                    this.add(new katzenjammer.widgets.WindowBase(header, window), position);\r\n            }\r\n            else\r\n                this.add(window, position);\r\n\t\t},\r\n\r\n\r\n        loadingUser: function (args)\r\n        {\r\n            this.getUser().loadingUser(args);\r\n            this.getHeader().refresh();\r\n\r\n            if (args === null)\r\n            {\r\n                this.getMap().moveRandomPos();\r\n                this.loadingLayout(\"start\");\r\n            }\r\n            else\r\n            {\r\n                this.loadingLayout(\"default\");\r\n\r\n                var home = JSON.parse(this.getUser().getHome());\r\n                if (home !== null)\r\n                {\r\n                    var map = katzenjammer.container.MapContainer.Instance;\r\n                    map.movePosition([home.lat, home.lon], home.zoom);\r\n                }\r\n                else\r\n                    this.getMap().moveRandomPos();\r\n            }\r\n\t\t}\r\n    }\r\n});\r\n"
  ]
}
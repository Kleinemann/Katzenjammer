{
  "version": 3,
  "sources": [
    "C:/Workspace/katzenjammer/source/class/katzenjammer/container/MapContainer.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "core",
    "Widget",
    "statics",
    "Instance",
    "properties",
    "Map",
    "init",
    "CurrentMarker",
    "nullable",
    "construct",
    "katzenjammer",
    "container",
    "MapContainer",
    "addListenerOnce",
    "initMap",
    "moveRandomPos",
    "members",
    "mapOptions",
    "center",
    "zoom",
    "map",
    "L",
    "getContentElement",
    "getDomElement",
    "layer",
    "TileLayer",
    "addLayer",
    "geocoder",
    "Control",
    "on",
    "e",
    "console",
    "log",
    "addTo",
    "setMap",
    "getMap",
    "setView",
    "LatLng",
    "Math",
    "random",
    "movePosition",
    "pos",
    "createMarker",
    "source",
    "old",
    "getCurrentMarker",
    "remove",
    "marker",
    "draggable",
    "setCurrentMarker",
    "undefined",
    "latLng",
    "target",
    "_latlng",
    "lat",
    "lng",
    "updateMarker"
  ],
  "mappings": "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",
  "sourcesContent": [
    "ï»¿/* global katzenjammer */\r\n/**\r\n*\r\n * @asset(katzenjammer/*)\r\n*\r\n**/\r\nqx.Class.define(\"katzenjammer.container.MapContainer\", {\r\n    extend: qx.ui.core.Widget,\r\n\r\n    statics:\r\n    {\r\n        Instance: null\r\n    },\r\n\r\n    properties:\r\n    {\r\n        Map: { init: null },\r\n        CurrentMarker: { init: null, nullable: true}\r\n    },\r\n\r\n    construct: function ()\r\n    {\r\n        this.base(arguments);\r\n        katzenjammer.container.MapContainer.Instance = this;\r\n\r\n        this.addListenerOnce(\"appear\", function ()\r\n        {\r\n            this.initMap();\r\n            this.moveRandomPos();\r\n        }, this);\r\n    },\r\n\r\n    members:\r\n    {\r\n        initMap: function ()\r\n        {\r\n            // Creating map options\r\n            var mapOptions = {\r\n                center: [17.385044, 78.486671],\r\n                zoom: 10\r\n            }\r\n\r\n            // Creating a map object\r\n            var map = new L.map(this.getContentElement().getDomElement(), mapOptions);\r\n\r\n            // Creating a Layer object\r\n            var layer = new L.TileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png');\r\n\r\n            // Adding layer to the map\r\n            map.addLayer(layer);\r\n\r\n            \r\n            var geocoder = L.Control.geocoder().on('markgeocode', function (e)\r\n            {\r\n                console.log(e);\r\n            }).addTo(map);\r\n            \r\n            this.setMap(map);\r\n        },\r\n\r\n        moveRandomPos: function ()\r\n        {\r\n            var map = this.getMap();\r\n            if (map !== null)\r\n                map.setView(new L.LatLng(Math.random() * 90, Math.random() * 90), 5);\r\n        },\r\n\r\n        movePosition: function (pos)\r\n        {\r\n            var map = this.getMap();\r\n            if (map !== null)\r\n                map.setView(new L.LatLng(pos[0], pos[1]), 15);\r\n        },\r\n\r\n        createMarker: function (pos, source)\r\n        {\r\n            var map = this.getMap();\r\n            this.movePosition(pos);\r\n\r\n            var old = this.getCurrentMarker();\r\n            if (old !== null)\r\n                old.remove();\r\n\r\n            var marker = L.marker(pos, { draggable: true });\r\n            this.setCurrentMarker(marker);\r\n\r\n            if (source !== undefined)\r\n            {\r\n                marker.on(\"moveend\", function (e)\r\n                {\r\n                    var latLng = e.target._latlng;\r\n                    var pos = [latLng.lat, latLng.lng];\r\n\r\n                    source.updateMarker(pos);\r\n                }, this);\r\n            }\r\n\r\n            marker.addTo(map);\r\n        },\r\n    }\r\n});\r\n"
  ]
}